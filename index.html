<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Vida Organizada AI</title>

<style>

body{
font-family: system-ui, -apple-system;
background: linear-gradient(180deg,#6c8cff,#f3f6fb);
margin:0;
color:#333;
}

header{
position:sticky;
top:0;
background:#6c8cff;
color:white;
text-align:center;
padding:18px;
font-size:20px;
font-weight:bold;
box-shadow:0 2px 8px rgba(0,0,0,0.15);
z-index:10;
}

.tela{
display:none;
padding:18px;
padding-bottom:90px;
animation:fade .25s ease;
}

.tela.ativa{
display:block;
}

@keyframes fade{
from{opacity:0; transform:translateY(8px);}
to{opacity:1; transform:translateY(0);}
}

.card{
background:white;
padding:18px;
margin-bottom:16px;
border-radius:20px;
box-shadow:0 6px 18px rgba(0,0,0,0.08);
}

input{
width:100%;
padding:12px;
margin-top:6px;
margin-bottom:12px;
border-radius:10px;
border:1px solid #ddd;
font-size:15px;
}

button{
cursor:pointer;
}

button.acao{
width:100%;
padding:14px;
border:none;
border-radius:12px;
background:#6c8cff;
color:white;
font-size:16px;
font-weight:600;
transition:.2s;
}

button.acao:active{
transform:scale(.97);
}

.menuApp{
position:fixed;
bottom:0;
left:0;
width:100%;
background:white;
border-top:1px solid #eee;
display:flex;
justify-content:space-around;
padding:10px 0;
box-shadow:0 -4px 12px rgba(0,0,0,0.08);
}

.menuApp button{
background:none;
border:none;
font-size:22px;
opacity:.5;
transition:.2s;
}

.menuApp button:hover{
opacity:1;
transform:scale(1.1);
}

.lista-item{
display:flex;
justify-content:space-between;
margin-bottom:10px;
background:#f7f8ff;
padding:10px;
border-radius:10px;
}

</style>
</head>

<body>

<header>ğŸŒ¸ Vida Organizada AI</header>

<div class="card" id="assistenteAI" style="margin:15px;">
<h3>ğŸ¤– Assistente Vida AI</h3>
<div id="mensagemAI">Analisando sua rotina...</div>
</div>
<!-- TAREFAS -->
<div id="tarefas" class="tela ativa">
<div class="card">
<h3>Tarefas de Casa</h3>
<input id="novaTarefa" placeholder="Adicionar tarefa...">
<button onclick="addTarefa()">Adicionar</button>
<div id="listaTarefas" class="lista"></div>
</div>
</div>

<!-- CONSULTAS -->
<div id="consultas" class="tela">
<div class="card">
<h3>Consultas</h3>
<input id="nomeConsulta" placeholder="Nome">
<input type="date" id="dataConsulta">
<button onclick="addConsulta()">Salvar</button>
<div id="listaConsultas" class="lista"></div>
</div>
</div>

<!-- ROTINA -->
<div id="rotina" class="tela">
<div class="card">
<h3>Rotina DiÃ¡ria</h3>
<input id="rotinaTexto" placeholder="Nova rotina">
<button onclick="addRotina()">Adicionar</button>
<div id="listaRotina" class="lista"></div>
</div>
</div>

<!-- REMÃ‰DIOS -->
<div id="remedios" class="tela">
<div class="card">
<h3>Lembrete de RemÃ©dios</h3>
<input id="nomeRemedio" placeholder="RemÃ©dio">
<input type="time" id="horaRemedio">
<button onclick="addRemedio()">Adicionar</button>
<div id="listaRemedios" class="lista"></div>
</div>
</div>

<!-- CARDÃPIO -->
<div id="cardapio" class="tela">
<div class="card">
<h3>ğŸ½ CardÃ¡pio da Semana</h3>

<div id="cardapioLista"></div>

<button class="acao" onclick="salvarCardapio()">Salvar CardÃ¡pio</button>
</div>
</div>

<!-- FINANCEIRO -->
<div id="financeiro" class="tela">

<div class="card">
<h3>ğŸ’° Controle Financeiro</h3>
  
<div class="card">
<h3>ğŸ“Š Painel Financeiro PRO</h3>

<div style="
display:grid;
grid-template-columns:1fr 1fr;
gap:10px;
margin-top:10px;
">

<div class="item">ğŸ’¸ Total do mÃªs:<br><b id="totalMes">R$ 0</b></div>

<div class="item">ğŸ  Contas fixas:<br><b id="totalFixas">R$ 0</b></div>

<div class="item">ğŸ”„ VariÃ¡veis:<br><b id="totalVariaveis">R$ 0</b></div>

<div class="item">ğŸ“ˆ PrevisÃ£o:<br><b id="previsaoSaldo">R$ 0</b></div>

</div>

<div id="alertasFinanceiros" style="margin-top:10px;"></div>
</div>

<input id="descricaoConta" placeholder="DescriÃ§Ã£o (ex: Luz, Mercado)">
<input type="date" id="dataVencimento">
<input id="valorConta" placeholder="Valor (R$)">

<select id="tipoConta">
<option value="fixa">Conta Fixa</option>
<option value="variavel">Conta VariÃ¡vel</option>
<option value="cartao">Parcelamento CartÃ£o</option>
<option value="meta">Meta / PoupanÃ§a</option>
</select>

<button class="acao" onclick="addConta()">Adicionar</button>

<div id="listaFinanceiro"></div>

</div>
</div>

<!-- ASSISTENTE -->
<div id="assistente" class="tela">

<div class="card">
<h3>ğŸ¤– Assistente Vida AI</h3>

<p id="mensagemAssistente">
OlÃ¡ ğŸŒ¸ Estou aqui para te ajudar a organizar seu dia.
</p>

<input id="pergunta" placeholder="Digite algo..." />

<button class="acao" onclick="responderAssistente()">
Enviar
</button>

</div>

</div>
  
<!-- COMPRAS -->
<div id="compras" class="tela">
<div class="card">
<h3>ğŸ›’ Lista de Compras</h3>
<div id="listaCompras"></div>
<button class="acao" onclick="gerarCompras()">Atualizar Lista</button>
</div>
</div>
  
<!-- MENU -->
<div class="menuApp">
<button onclick="trocar('tarefas')">ğŸ </button>
<button onclick="trocar('consultas')">ğŸ“…</button>
<button onclick="trocar('rotina')">ğŸ§ </button>
<button onclick="trocar('assistente')">ğŸ¤–</button>
<button onclick="trocar('cardapio')">ğŸ½</button>
<button onclick="trocar('compras')">ğŸ›’</button>
<button onclick="trocar('financeiro')">ğŸ’°</button>
<button onclick="trocar('remedios')">ğŸ’Š</button>
</div>

<script>

/* -------- TROCAR TELA -------- */
function trocar(id){
document.querySelectorAll('.tela').forEach(t=>t.classList.remove('ativa'));
document.getElementById(id).classList.add('ativa');
}

/* -------- STORAGE -------- */
function salvar(chave,valor){
localStorage.setItem(chave,JSON.stringify(valor));
}

function carregar(chave){
return JSON.parse(localStorage.getItem(chave))||[];
}

/* -------- TAREFAS -------- */
let tarefas=carregar("tarefas");

function renderTarefas(){
const lista=document.getElementById("listaTarefas");
lista.innerHTML="";
tarefas.forEach((t,i)=>{
lista.innerHTML+=`<div class="item">${t}
<button onclick="removerTarefa(${i})">âŒ</button></div>`;
});
}

function addTarefa(){
const input=document.getElementById("novaTarefa");
if(!input.value.trim())return;
tarefas.push(input.value);
salvar("tarefas",tarefas);
input.value="";
renderTarefas();
}

function removerTarefa(i){
tarefas.splice(i,1);
salvar("tarefas",tarefas);
renderTarefas();
}

/* -------- CONSULTAS -------- */
let consultas=carregar("consultas");

function renderConsultas(){
const lista=document.getElementById("listaConsultas");
lista.innerHTML="";
consultas.forEach(c=>{
lista.innerHTML+=`<div>${c.nome} - ${c.data}</div>`;
});
}

function addConsulta(){
const nome=document.getElementById("nomeConsulta").value;
const data=document.getElementById("dataConsulta").value;
if(!nome||!data)return;
consultas.push({nome,data});
salvar("consultas",consultas);
renderConsultas();
}

/* -------- ROTINA -------- */
let rotinas=carregar("rotinas");

function renderRotina(){
const lista=document.getElementById("listaRotina");
lista.innerHTML="";
rotinas.forEach(r=>{
lista.innerHTML+=`<div>${r}</div>`;
});
}

function addRotina(){
const txt=document.getElementById("rotinaTexto");
if(!txt.value.trim())return;
rotinas.push(txt.value);
salvar("rotinas",rotinas);
txt.value="";
renderRotina();
}

/* -------- REMÃ‰DIOS -------- */
let remedios=carregar("remedios");

function renderRemedios(){
const lista=document.getElementById("listaRemedios");
lista.innerHTML="";
remedios.forEach(r=>{
lista.innerHTML+=`<div>${r.nome} Ã s ${r.hora}</div>`;
});
}

function addRemedio(){
const nome=document.getElementById("nomeRemedio").value;
const hora=document.getElementById("horaRemedio").value;
if(!nome||!hora)return;
remedios.push({nome,hora});
salvar("remedios",remedios);
renderRemedios();
}

/* -------- INIT -------- */
renderTarefas();
renderConsultas();
renderRotina();
renderRemedios();

/* -------- CARDÃPIO -------- */

const dias = [
"Segunda","TerÃ§a","Quarta","Quinta","Sexta","SÃ¡bado","Domingo"
];

let cardapio = carregar("cardapio");

function renderCardapio(){
const area=document.getElementById("cardapioLista");
area.innerHTML="";

dias.forEach((dia,i)=>{
const dados = cardapio[i] || {cafe:"",almoco:"",jantar:""};

area.innerHTML+=`
<div class="card">
<strong>${dia}</strong>

<input placeholder="CafÃ© da manhÃ£"
value="${dados.cafe}"
oninput="updateCardapio(${i},'cafe',this.value)">

<input placeholder="AlmoÃ§o"
value="${dados.almoco}"
oninput="updateCardapio(${i},'almoco',this.value)">

<input placeholder="Jantar"
value="${dados.jantar}"
oninput="updateCardapio(${i},'jantar',this.value)">
</div>
`;
});
}

function updateCardapio(i,tipo,valor){
if(!cardapio[i]) cardapio[i]={};
cardapio[i][tipo]=valor;
}

function salvarCardapio(){
salvar("cardapio",cardapio);
alert("CardÃ¡pio salvo âœ…");
}

renderCardapio();

/* -------- LISTA DE COMPRAS -------- */

function gerarCompras(){

const lista = document.getElementById("listaCompras");
lista.innerHTML = "";

let itens = [];

cardapio.forEach(dia=>{
if(!dia) return;

Object.values(dia).forEach(refeicao=>{
if(refeicao){
refeicao.split(",").forEach(item=>{
itens.push(item.trim());
});
}
});
});

const unicos = [...new Set(itens)];

unicos.forEach(item=>{
lista.innerHTML += `
<div class="lista-item">
ğŸ›’ ${item}
</div>
`;
});

}

/* -------- ASSISTENTE INTELIGENTE -------- */

function gerarMensagemAI(){

let msg="ğŸŒ¸ Tudo sob controle hoje.";

if(tarefas.length > 5){
msg="âš¡ Muitas tarefas hoje. Priorize sÃ³ o essencial.";
}

if(cardapio.length >=5){
msg="ğŸ½ Semana bem planejada! Talvez preparar refeiÃ§Ãµes adiantadas ajude.";
}

if(consultas.length > 0){
msg="ğŸ“… VocÃª tem compromissos agendados. Confira as consultas.";
}

if(remedios.length > 0){
msg="ğŸ’Š NÃ£o esqueÃ§a seus horÃ¡rios de remÃ©dio hoje.";
}

document.getElementById("mensagemAI").innerText = msg;
}

gerarMensagemAI();
/* -------- COPILOTO INTELIGENTE -------- */

function copilotoAI(){

const hora = new Date().getHours();
let mensagem = "";

/* SAUDAÃ‡ÃƒO POR HORÃRIO */
if(hora < 12){
mensagem = "ğŸŒ… Bom dia! Comece por algo simples.";
}
else if(hora < 18){
mensagem = "â˜€ï¸ Boa tarde! Continue no seu ritmo.";
}
else{
mensagem = "ğŸŒ™ Boa noite! Hora de desacelerar.";
}

/* DETECTAR SOBRECARGA */
if(tarefas.length >= 6){
mensagem = "âš¡ Muitas tarefas hoje. Escolha sÃ³ 3 prioridades.";
}

/* DETECTAR SEMANA CHEIA */
if(cardapio.length >= 6){
mensagem = "ğŸ½ Semana planejada! Preparar refeiÃ§Ãµes antes pode ajudar.";
}

/* SUGERIR COMPRAS */
let totalItens = 0;
cardapio.forEach(d=>{
if(!d) return;
Object.values(d).forEach(r=>{
if(r) totalItens++;
});
});

if(totalItens >= 10){
mensagem = "ğŸ›’ Seu cardÃ¡pio estÃ¡ cheio. Talvez seja dia de compras.";
}

/* CONSULTAS */
if(consultas.length > 0){
mensagem = "ğŸ“… VocÃª tem compromissos agendados. Confira as consultas.";
}

/* REMÃ‰DIOS */
if(remedios.length > 0){
mensagem = "ğŸ’Š Lembrete: mantenha seus horÃ¡rios de remÃ©dio.";
}

document.getElementById("mensagemAI").innerText = mensagem;
}

/* ATUALIZA AUTOMÃTICO */
copilotoAI();
setInterval(copilotoAI, 60000);

/* -------- ASSISTENTE -------- */

function responderAssistente(){
  const pergunta = document
    .getElementById("pergunta")
    .value.toLowerCase();

  const resposta =
    document.getElementById("mensagemAssistente");

  if(pergunta.includes("cansada")){
    resposta.innerText =
      "ğŸŒ™ Que tal diminuir o ritmo hoje e focar sÃ³ no essencial?";
  }
  else if(pergunta.includes("cardapio")){
    resposta.innerText =
      "ğŸ½ï¸ Posso te ajudar a montar o cardÃ¡pio da semana!";
  }
  else if(pergunta.includes("tarefas")){
    resposta.innerText =
      "âœ… Vamos escolher apenas 3 tarefas principais hoje.";
  }
  else{
    resposta.innerText =
      "ğŸ¤– Estou aprendendo! Fale sobre rotina, tarefas ou cardÃ¡pio.";
  }
}
/* -------- ASSISTENTE -------- */

function abrirAssistente(){
mostrarTela("assistente");
}

function abrirTela(id){
document.querySelectorAll('.tela')
.forEach(t=>t.classList.remove('ativa'));

document.getElementById(id)
.classList.add('ativa');
}

/* ===== FINANCEIRO INTELIGENTE ===== */

let contas = JSON.parse(localStorage.getItem("contas")) || [];

function salvarContas(){
localStorage.setItem("contas", JSON.stringify(contas));
renderFinanceiro();
}

function addConta(){

let conta = {
descricao: document.getElementById("finDescricao").value,
valor: document.getElementById("finValor").value,
vencimento: document.getElementById("finVencimento").value,
tipo: document.getElementById("finTipo").value
};

if(!conta.descricao) return;

contas.push(conta);

document.getElementById("finDescricao").value="";
document.getElementById("finValor").value="";
document.getElementById("finVencimento").value="";

salvarContas();
}
calcularResumoFinanceiro();
  
function removerConta(i){
contas.splice(i,1);
salvarContas();
}

function renderFinanceiro(){

let lista = document.getElementById("listaFinanceiro");
if(!lista) return;

lista.innerHTML="";

contas.forEach((c,i)=>{
lista.innerHTML += `
<div class="item">
<div>
<b>${c.descricao}</b><br>
R$ ${c.valor} â€¢ ${c.tipo}<br>
ğŸ“… ${c.vencimento}
</div>
<button onclick="removerConta(${i})">âŒ</button>
</div>`;
});
}

renderFinanceiro();

function calcularResumoFinanceiro(){

let totalMes = 0;
let fixas = 0;
let variaveis = 0;
let hoje = new Date();
let alertas = "";

contas.forEach(c => {

let valor = Number(c.valor) || 0;
totalMes += valor;

if(c.tipo === "Conta Fixa")
fixas += valor;
else
variaveis += valor;

if(c.vencimento){

let dataConta = new Date(c.vencimento);
let dias = (dataConta - hoje)/(1000*60*60*24);

if(dias >= 0 && dias <= 3){
alertas += `<div class="item" style="background:#ffe8e8">
âš ï¸ ${c.descricao} vence em ${Math.ceil(dias)} dias
</div>`;
}

}

});

document.getElementById("totalMes").innerText =
"R$ " + totalMes.toFixed(2);

document.getElementById("totalFixas").innerText =
"R$ " + fixas.toFixed(2);

document.getElementById("totalVariaveis").innerText =
"R$ " + variaveis.toFixed(2);

document.getElementById("previsaoSaldo").innerText =
"R$ " + (-totalMes).toFixed(2);

document.getElementById("alertasFinanceiros").innerHTML =
alertas || "âœ… Nenhum vencimento prÃ³ximo";
}
  
</script>

</body>
</html>
